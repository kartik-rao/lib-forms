window.Forms=function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],p=0,f=[];p<s.length;p++)i=s[p],o[i]&&f.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0,1:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonpForms=window.webpackJsonpForms||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;return a.push([22,2]),n()}({10:function(e,t){},22:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),c=n(23);n(24);var l=n(9),u=n(91);t.FormFactory=u.FormFactory;var p=n(93);t.FormComponent=p.default;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.props={},n.state={},n.props={form:u.FormFactory.createForm(t.form)},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=(e.initialState,i(e,["initialState"]),this.props.form);return s.createElement(l.Layout,{style:{height:"100vh"}},s.createElement(l.Row,null,s.createElement("br",null)),s.createElement(l.Row,{justify:"space-around"},s.createElement(l.Col,{span:t.formLayoutOptions.wrapperSpan,offset:t.formLayoutOptions.wrapperOffset},s.createElement(p.default,a({},t)))))},t}(s.Component);t.FormWrapper=f,t.render=function(e,t){c.render(new f(e).render(),document.querySelector(t))}},23:function(e,t){e.exports=window.ReactDOM},6:function(e,t){e.exports=window.React},9:function(e,t){e.exports=window.antd},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92),o=n(11),a=function(){function e(){}return e.createForm=function(e){var t={};t.id=e.id,t.exid=e.exid,t.desc=e.desc,t.name=e.name,t.formLayoutOptions={wrapperSpan:o.valueOrDefault(e.formLayoutOptions.wrapperSpan,20),wrapperOffset:o.valueOrDefault(e.formLayoutOptions.wrapperOffset,2),showPageBorders:o.valueOrDefault(e.formLayoutOptions.showPageBorders,!0),showSectionBorders:o.valueOrDefault(e.formLayoutOptions.showSectionBorders,!0),showPageTitles:o.valueOrDefault(e.formLayoutOptions.showPageTitles,!0),showSectionTitles:o.valueOrDefault(e.formLayoutOptions.showSectionTitles,!0),showSteps:o.valueOrDefault(e.formLayoutOptions.showSteps,!0),validationDisablesPaging:o.valueOrDefault(e.formLayoutOptions.validationDisablesPaging,!0)};var n={};e.tenant&&(n.context=e.tenant.content,n.stack=e.tenant.content,n.eid=e.tenant.content,n.mid=e.tenant.content),t.tenant=e.tenant;var a={};e.status&&(a.timezone=e.status.timezone,a.paused=e.status.paused,a.active=e.status.active,a.created=e.status.created,a.edited=e.status.edited,a.starts=e.status.starts,a.ends=e.status.ends),t.status=a;var i={};i.title=e.content.title,i.subtitle=e.content.subtitle,i.labels=e.content.labels,i.offset=e.content.offset,i.width=e.content.width,i.sidebar=e.content.sidebar,i.scripts=e.content.scripts,i.styles=e.content.styles,i.datasets=e.content.datasets,i.paginate=e.content.paginate,i.validationDisablesPaging=e.content.validationDisablesPaging,i.css=e.content.css,i.header=e.content.header,i.footer=e.content.footer,i.trackingPixels=e.content.trackingPixels,i.pages=[],i.allFields=[],i.fieldLocation={},i.dependencyMap={};var s={};return e.content.pages.forEach(function(e,t){var n={name:e.name,icon:e.icon,sections:[],type:e.type,title:e.title,subtitle:e.subtitle,wizard:e.wizard,fieldNames:[]};e.sections.forEach(function(e,a){var c={id:e.id,name:e.name,gutter:e.gutter,columns:[]};e.columns.forEach(function(e,l){var u=new o.Column(e.id,e.name,e.title,[]);e.fields.map(function(e,o){var c=r.FieldFactory.createField(e);c.location={page:t,section:a,column:l,field:o},s[c.id]=c.condition.ancestors,u.fields.push(c),i.allFields.push(c),i.fieldLocation[c.id]=c.location,n.fieldNames.push(c.name)}),c.columns.push(u)}),n.sections.push(c)}),i.pages.push(n)}),Object.keys(s).forEach(function(e){s[e].forEach(function(t){i.dependencyMap[t]=i.dependencyMap[t]?i.dependencyMap[t]:[],i.dependencyMap[t].push(e)})}),t.content=i,t},e}();t.FormFactory=a},92:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),a=n(11),i=function(){function e(){}return e.createField=function(e){var t={};return t.id=e.id,t.name=e.name,t.type=e.type,t.inputType=e.inputType,t.icon=e.icon,t.width=e.width,t.children=e.children,t.storage=e.storage,t.showLabel=o.valueOrDefault(e.showLabel,!0),t.showLegend=o.valueOrDefault(e.showLegend,!0),t.fieldOptions=new a.FieldOptions(Object.assign({id:e.id},r({},e.fieldOptions))),t.condition=new a.Condition(e.id,e.condition),t.label=e.label,t.helpText=e.helpText,t.helpPlacement=e.helpPlacement,t.placeholder=e.placeholder,t.queryParam=e.queryParam,t.saveable=e.saveable,t.value=e.value,t},e}();t.FieldFactory=i},93:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=n(9),s=n(94);n(10);var c=function(e){function t(t){var n=e.call(this,t)||this;n.evaluators={},n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})};var r={confirmDirty:!1,currentPage:0,numPages:t.content.pages.length},o=n;return t.content.allFields.forEach(function(e){e.condition&&(o.evaluators[""+e.id]=e.condition,r[""+e.id]={result:e.condition.value(n.props.form)})}),n.state=r,n}return o(t,e),t.prototype.handleSubmit=function(e){e.preventDefault();var t=this;this.props.form.validateFields(function(e,n){if(e){var r=t.props.content.fieldLocation,o=Object.keys(e).map(function(e){return r[e].page}).reduce(function(e,t){return t?e<t?e:t:e});setTimeout(function(){t.setState({currentPage:o})})}else{var a=Object.assign({payload:n},{props:t.state.innerProps});console.log("Received values of form: ",a)}})},t.prototype.onChange=function(e){var t=this,n=this.props.form;n.getFieldValue,n.getFieldsValue,n.getFieldError,n.isFieldTouched,n.isFieldValidating;setTimeout(function(){(t.props.content.dependencyMap[e]||[]).forEach(function(e){var n=Object.assign({},t.state);n[e].result=t.evaluators[e].value(t.props.form),t.setState(n)})},0)},t.prototype.renderPage=function(e,t){var n=this;return a.createElement("div",{className:"page",key:t},e.sections.map(function(e,t){return n.renderSection(e,t)}))},t.prototype.renderColumn=function(e,t,n){void 0===n&&(n=1);var r=this;return a.createElement(i.Col,{span:24/n,key:t},e.fields.map(function(e,t){return r.renderField(e,t)}))},t.prototype.renderSection=function(e,t){var n=e.columns.length,r=this,o=this.props.formLayoutOptions,s=o.showSectionTitles,c=o.showSectionBorders;return a.createElement(i.Card,{bordered:c,title:s?e.name:"",key:t},a.createElement(i.Row,{gutter:16},e.columns.map(function(e,t){return r.renderColumn(e,t,n)})))},t.prototype.renderField=function(e,t){var n=(0,this.props.form.getFieldDecorator)(e.id,e.fieldOptions),r=this.onChange.bind(this,e.id),o=this.handleConfirmBlur.bind(this),i=this.state[e.id].result;e.fieldOptions.hidden=!i;var c=this.props.formLayoutOptions;return i?a.createElement(s.FieldComponent,{field:e,onBlur:o,onChange:r,decorator:n,key:t,itemLayout:c}):""},t.prototype.next=function(){var e=this,t=this.state.currentPage;this.props.formLayoutOptions.validationDisablesPaging?this.props.form.validateFields(this.props.content.pages[t].fieldNames,function(n){n||e.setState({currentPage:t+1})}):this.setState({currentPage:t+1})},t.prototype.prev=function(){var e=this.state.currentPage-1;this.setState({currentPage:e})},t.prototype.render=function(){var e=this,t=this.props.formLayoutOptions,n=t.showPageTitles,r=t.showSteps;return a.createElement("div",{className:"form-wrapper"},this.props.content.title&&a.createElement(i.Card,null,a.createElement("h2",null,this.props.content.title),a.createElement("br",null),a.createElement("h3",null,this.props.content.subtitle)),r&&a.createElement(i.Row,null,a.createElement(i.Col,{span:24},a.createElement(i.Card,null,a.createElement(i.Steps,{size:"small",current:this.state.currentPage},this.props.content.pages.map(function(e,t){return a.createElement(i.Steps.Step,{title:e.title,key:t})}))))),a.createElement(i.Row,null,a.createElement(i.Col,{span:24},a.createElement(i.Form,{onSubmit:this.handleSubmit.bind(this),layout:this.props.layout},this.props.content.pages.map(function(t,r){var o=e.state,s=o.numPages,c=o.currentPage;return a.createElement("div",{className:"page-wrapper",key:r,style:{visibility:c==r?"visible":"hidden",display:c==r?"block":"none"}},a.createElement("div",{className:"page-content"},a.createElement(i.Card,{title:n?t.title:""},e.renderPage(t,r))),a.createElement("div",{className:"page-action"},a.createElement(i.Card,null,a.createElement(i.Row,null,a.createElement(i.Col,{span:24,style:{textAlign:"right"}},c>0&&s>1&&a.createElement(i.Button,{type:"primary",className:"action-button",onClick:function(){return e.prev()}},"Prev"),c<s-1&&a.createElement(i.Button,{type:"primary",style:{marginLeft:8},className:"action-button",onClick:function(){return e.next()}},"Next"),c==s-1&&a.createElement(i.Button,{type:"primary",style:{marginLeft:8},htmlType:"submit",className:"action-button"},"Submit"))))))})))))},t}(a.Component);t.default=i.Form.create()(c)},94:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),s=n(9),c=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.field,n=e.onChange,r=e.decorator,o=e.itemLayout,c=t.type;return i.createElement(s.Form.Item,a({label:t.label},o),("input"==c||"hidden"==c)&&r(i.createElement(s.Input,{onChange:n,type:t.inputType,placeholder:t.placeholder})),"checkbox"==c&&r(i.createElement(s.Checkbox,{onChange:n})),"number"==c&&r(i.createElement(s.InputNumber,{onChange:n})),"select"==c&&r(i.createElement(s.Select,{onChange:n},t.children.map(function(e,t){return i.createElement(s.Select.Option,{key:t},e.label)}))),"radiogroup"==c&&r(i.createElement(s.Radio.Group,{onChange:n},t.children.map(function(e,t){return i.createElement(s.Radio,{key:t},e.label)}))),"checkboxgroup"==c&&r(i.createElement(s.Checkbox.Group,{onChange:n,options:t.children})),"textarea"==c&&r(i.createElement(s.Input.TextArea,{onChange:n})),"datepicker"==c&&r(i.createElement(s.DatePicker,{onChange:n})),"monthpicker"==c&&r(i.createElement(s.DatePicker.MonthPicker,{onChange:n})),"rangepicker"==c&&r(i.createElement(s.DatePicker.RangePicker,{onChange:n})),"weekpicker"==c&&r(i.createElement(s.DatePicker.WeekPicker,{onChange:n})),"rate"==c&&r(i.createElement(s.Rate,{onChange:n})),"slider"==c&&r(i.createElement(s.Slider,{onChange:n})),"textblock"==c&&i.createElement("p",null,t.value))},t}(i.Component);t.FieldComponent=c}});
//# sourceMappingURL=main.js.map