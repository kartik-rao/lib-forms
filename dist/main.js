window.Forms=function(e){function t(t){for(var r,a,i=t[0],l=t[1],c=t[2],p=0,d=[];p<i.length;p++)a=i[p],o[a]&&d.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);d.length;)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={2:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window.webpackJsonpForms=window.webpackJsonpForms||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;return s.push([730,0]),n()}({364:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),l=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.field,n=e.onChange,r=e.decorator,o=e.itemLayout,l=t.type;return a.createElement(i.Form.Item,s({label:t.label},o),("input"==l||"hidden"==l)&&r(a.createElement(i.Input,{onChange:n,type:t.inputType,placeholder:t.placeholder})),"checkbox"==l&&r(a.createElement(i.Checkbox,{onChange:n})),"number"==l&&r(a.createElement(i.InputNumber,{onChange:n})),"select"==l&&r(a.createElement(i.Select,{onChange:n},t.children.map(function(e,t){return a.createElement(i.Select.Option,{key:t},e.label)}))),"radiogroup"==l&&r(a.createElement(i.Radio.Group,{onChange:n},t.children.map(function(e,t){return a.createElement(i.Radio,{key:t},e.label)}))),"checkboxgroup"==l&&r(a.createElement(i.Checkbox.Group,{onChange:n,options:t.children})),"textarea"==l&&r(a.createElement(i.Input.TextArea,{onChange:n})),"datepicker"==l&&r(a.createElement(i.DatePicker,{onChange:n})),"monthpicker"==l&&r(a.createElement(i.DatePicker.MonthPicker,{onChange:n})),"rangepicker"==l&&r(a.createElement(i.DatePicker.RangePicker,{onChange:n})),"weekpicker"==l&&r(a.createElement(i.DatePicker.WeekPicker,{onChange:n})),"rate"==l&&r(a.createElement(i.Rate,{onChange:n})),"slider"==l&&r(a.createElement(i.Slider,{onChange:n})),"textblock"==l&&a.createElement("p",null,t.value))},t}(a.Component);t.FieldComponent=l},365:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),l=n(364);n(345);var c=function(e){function t(t){var n=e.call(this,t)||this;n.evaluators={},n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})};var r={confirmDirty:!1,currentPage:0,numPages:t.content.pages.length},o=n;return t.content.allFields.forEach(function(e){o.evaluators[""+e.id]=e.condition,r[""+e.id]={result:e.condition.value(n.props.form)}}),n.state=r,n}return o(t,e),t.prototype.handleSubmit=function(e){e.preventDefault();var t=this;this.props.form.validateFields(function(e,n){if(e){var r=t.props.content.fieldLocation,o=Object.keys(e).map(function(e){return r[e].page}).reduce(function(e,t){return t?e<t?e:t:e});setTimeout(function(){t.setState({currentPage:o})})}else{var s=Object.assign({payload:n},{props:t.state.innerProps});console.log("Received values of form: ",s)}})},t.prototype.onChange=function(e){var t=this,n=this.props.form;n.getFieldValue,n.getFieldsValue,n.getFieldError,n.isFieldTouched,n.isFieldValidating;setTimeout(function(){(t.props.content.dependencyMap[e]||[]).forEach(function(e){var n=Object.assign({},t.state);n[e].result=t.evaluators[e].value(t.props.form),t.setState(n)})},0)},t.prototype.renderPage=function(e,t){var n=this;return a.createElement("div",{className:"page",key:t},e.sections.map(function(e,t){return n.renderSection(e,t)}))},t.prototype.renderColumn=function(e,t,n){void 0===n&&(n=1);var r=this;return a.createElement(i.Col,{span:24/n,key:t},e.fields.map(function(e,t){return r.renderField(e,t)}))},t.prototype.renderSection=function(e,t){var n=e.columns.length,r=this,o=this.props.formLayoutOptions,s=o.showSectionTitles,l=o.showSectionBorders;return a.createElement(i.Card,{bordered:l,title:s?e.name:"",key:t},a.createElement(i.Row,{gutter:16},e.columns.map(function(e,t){return r.renderColumn(e,t,n)})))},t.prototype.renderField=function(e,t){var n=(0,this.props.form.getFieldDecorator)(e.id,e.fieldOptions),r=this.onChange.bind(this,e.id),o=this.handleConfirmBlur.bind(this),s=this.state[e.id].result;e.fieldOptions.hidden=!s;var i=this.props.formLayoutOptions;return s?a.createElement(l.FieldComponent,{field:e,onBlur:o,onChange:r,decorator:n,key:t,itemLayout:i}):""},t.prototype.next=function(){var e=this,t=this.state.currentPage;this.props.formLayoutOptions.validationDisablesPaging?this.props.form.validateFields(this.props.content.pages[t].fieldNames,function(n){n||e.setState({currentPage:t+1})}):this.setState({currentPage:t+1})},t.prototype.prev=function(){var e=this.state.currentPage-1;this.setState({currentPage:e})},t.prototype.render=function(){var e=this,t=this.props.form,n=(t.getFieldDecorator,t.getFieldError,t.getFieldsValue,t.setFieldsValue,this.props.content.pages.length,this.renderField,this.props.formLayoutOptions),r=n.showPageTitles,o=n.showSteps;return a.createElement("div",{className:"form-wrapper"},o&&a.createElement(i.Row,null,a.createElement(i.Col,{span:24},a.createElement(i.Card,null,a.createElement(i.Steps,{size:"small",current:this.state.currentPage},this.props.content.pages.map(function(e,t){return a.createElement(i.Steps.Step,{title:e.title,key:t})}))))),a.createElement(i.Row,null,a.createElement(i.Col,{span:24},a.createElement(i.Form,{onSubmit:this.handleSubmit.bind(this),layout:this.props.layout},this.props.content.pages.map(function(t,n){var o=e.state,l=o.numPages,c=o.currentPage;return a.createElement("div",{className:"page-wrapper",key:n,style:{visibility:c==n?"visible":"hidden",display:c==n?"block":"none"}},a.createElement("div",{className:"page-content"},a.createElement(i.Card,{title:r?t.title:""},e.renderPage(t,n))),a.createElement("div",{className:"page-action"},a.createElement("div",null,a.createElement(i.Form.Item,s({},e.props.formLayoutOptions),a.createElement(i.Button,{type:"primary",htmlType:"submit",className:"action-button"},"Submit"),c<l-1&&a.createElement(i.Button,{type:"primary",className:"action-button",onClick:function(){return e.next()}},"Next"),c>0&&l>1&&a.createElement(i.Button,{type:"primary",className:"action-button",onClick:function(){return e.prev()}},"Prev")))))})))))},t}(a.Component);t.default=i.Form.create()(c)},366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n,r){this.id=e,this.name=t||"column-"+e,this.title=n||"",this.fields=r||[]}}();t.Column=r},367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(95);!function(e){e.string="string",e.number="number",e.boolean="boolean",e.method="method",e.regexp="regexp",e.integer="integer",e.float="float",e.array="array",e.object="object",e.enum="enum",e.date="date",e.url="url",e.hex="hex",e.email="email"}(r=t.FieldType||(t.FieldType={}));var s=function(){return function(e){this.enum=e.enum,this.len=e.len,this.min=e.min,this.max=e.max,this.message=e.message,this.pattern=e.pattern,this.required=o.valueOrDefault(e.required,!1),this.transform=e.transform,this.type=o.valueOrDefault(e.type,r.string),this.validator=e.validator,this.whitespace=e.whitespace}}();t.FieldValidationRule=s;var a=function(){function e(){this.rules=[]}return e.prototype.addRule=function(e){this.rules.push(new s(e))},e.prototype.addRules=function(e){void 0===e&&(e=[]);var t=this;return e.forEach(function(e){t.addRule(e)}),this},e}();t.FieldValidation=a},368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(367),o=n(95),s=function(){return function(e){this.id=null,this.getValueFromEvent=null,this.initialValue=null,this.normalize=null,this.id=e.id,this.getValueFromEvent=e.getValueFromEvent,this.initialValue=e.initialValue,this.normalize=e.normalize,this.rules=(new r.FieldValidation).addRules(e.rules).rules,this.trigger=o.valueOrDefault(e.trigger,"onChange"),this.validateFirst=o.valueOrDefault(e.validateFirst,!1),this.validateTrigger=o.valueOrDefault(e.validateTrigger,["onChange","onBlur"]),this.valuePropName=o.valueOrDefault(e.valuePropName,"value"),this.hidden=e.hidden||!1}}();t.FieldOptions=s},369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n,r){this.operator="or",this.field=e,this.condition=t,this.value=n,this.operator=r}}();t.Predicate=r;var o=function(){function e(e,t){void 0===t&&(t=[]),this.predicates=[],this.ancestors=[],this.fieldId=e,this.predicates=t;var n=this;this.predicates.forEach(function(e,t){n.ancestors.push(e.field)})}return e.prototype.reduce=function(e,t,n){return"and"==n?e&&t:e||t},e.prototype.value=function(e){var t,n=this,r=this.fieldId;return!this.predicates||0==this.predicates.length||(this.predicates.forEach(function(o,s){var a=e.getFieldValue(o.field),i=null;switch(o.condition){case"eq":i=a==o.value;break;case"neq":i=a!=o.value;break;case"gt":i=a>o.value;break;case"lt":i=a<o.value;break;case"gteq":i=a>=o.value;break;case"lteq":i=a<=o.value;break;case"hasval":i=void 0!==a&&null!=a&&""!==a;break;case"nothasval":i=void 0===a||null==a||""==a;break;default:i=!1}t=0==s?i:n.reduce(t,i,o.operator),console.log("Condition "+s+" on ["+r+"] is "+t+", rule ["+o.field+" "+o.condition+" "+o.value+"] (value is ["+a+"])")}),t)},e}();t.Condition=o},370:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),s=n(369),a=n(368),i=function(){function e(){}return e.createField=function(e){var t={};return t.id=e.id,t.name=e.name,t.type=e.type,t.inputType=e.inputType,t.icon=e.icon,t.width=e.width,t.children=e.children,t.storage=e.storage,t.showLabel=o.valueOrDefault(e.showLabel,!0),t.showLegend=o.valueOrDefault(e.showLegend,!0),t.fieldOptions=new a.FieldOptions(Object.assign({id:e.id},r({},e.fieldOptions))),t.condition=new s.Condition(e.id,e.condition),t.label=e.label,t.helpText=e.helpText,t.helpPlacement=e.helpPlacement,t.placeholder=e.placeholder,t.queryParam=e.queryParam,t.saveable=e.saveable,t.value=e.value,t},e}();t.FieldFactory=i},371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(370),o=n(366),s=function(e,t){return void 0!==(n=e)&&null!=n?e:t;var n},a=function(){function e(){}return e.createForm=function(e){var t={};t.id=e.id,t.exid=e.exid,t.desc=e.desc,t.name=e.name,t.formLayoutOptions={wrapperSpan:s(e.formLayoutOptions.wrapperSpan,20),wrapperOffset:s(e.formLayoutOptions.wrapperOffset,2),showPageBorders:s(e.formLayoutOptions.showPageBorders,!0),showSectionBorders:s(e.formLayoutOptions.showSectionBorders,!0),showPageTitles:s(e.formLayoutOptions.showPageTitles,!0),showSectionTitles:s(e.formLayoutOptions.showSectionTitles,!0),showSteps:s(e.formLayoutOptions.showSteps,!0),validationDisablesPaging:s(e.formLayoutOptions.validationDisablesPaging,!0)};var n={};e.tenant&&(n.context=e.tenant.content,n.stack=e.tenant.content,n.eid=e.tenant.content,n.mid=e.tenant.content),t.tenant=e.tenant;var a={};e.status&&(a.timezone=e.status.timezone,a.paused=e.status.paused,a.active=e.status.active,a.created=e.status.created,a.edited=e.status.edited,a.starts=e.status.starts,a.ends=e.status.ends),t.status=a;var i={};i.title=e.content.title,i.subtitle=e.content.subtitle,i.labels=e.content.labels,i.offset=e.content.offset,i.width=e.content.width,i.sidebar=e.content.sidebar,i.scripts=e.content.scripts,i.styles=e.content.styles,i.datasets=e.content.datasets,i.paginate=e.content.paginate,i.validationDisablesPaging=e.content.validationDisablesPaging,i.css=e.content.css,i.header=e.content.header,i.footer=e.content.footer,i.trackingPixels=e.content.trackingPixels,i.pages=[],i.allFields=[],i.fieldLocation={},i.dependencyMap={};var l={};return e.content.pages.forEach(function(e,t){var n={name:e.name,icon:e.icon,sections:[],type:e.type,title:e.title,subtitle:e.subtitle,wizard:e.wizard,fieldNames:[]};e.sections.forEach(function(e,s){var a={id:e.id,name:e.name,gutter:e.gutter,columns:[]};e.columns.forEach(function(e,c){var u=new o.Column(e.id,e.name,e.title,[]);e.fields.map(function(e,o){var a=r.FieldFactory.createField(e);a.location={page:t,section:s,column:c,field:o},l[a.id]=a.condition.ancestors,u.fields.push(a),i.allFields.push(a),i.fieldLocation[a.id]=a.location,n.fieldNames.push(a.name)}),a.columns.push(u)}),n.sections.push(a)}),i.pages.push(n)}),Object.keys(l).forEach(function(e){l[e].forEach(function(t){i.dependencyMap[t]=i.dependencyMap[t]?i.dependencyMap[t]:[],i.dependencyMap[t].push(e)})}),t.content=i,t},e}();t.FormFactory=a},596:function(e,t,n){var r={"./af":321,"./af.js":321,"./ar":320,"./ar-dz":319,"./ar-dz.js":319,"./ar-kw":318,"./ar-kw.js":318,"./ar-ly":317,"./ar-ly.js":317,"./ar-ma":316,"./ar-ma.js":316,"./ar-sa":315,"./ar-sa.js":315,"./ar-tn":314,"./ar-tn.js":314,"./ar.js":320,"./az":313,"./az.js":313,"./be":312,"./be.js":312,"./bg":311,"./bg.js":311,"./bm":310,"./bm.js":310,"./bn":309,"./bn.js":309,"./bo":308,"./bo.js":308,"./br":307,"./br.js":307,"./bs":306,"./bs.js":306,"./ca":305,"./ca.js":305,"./cs":304,"./cs.js":304,"./cv":303,"./cv.js":303,"./cy":302,"./cy.js":302,"./da":301,"./da.js":301,"./de":300,"./de-at":299,"./de-at.js":299,"./de-ch":298,"./de-ch.js":298,"./de.js":300,"./dv":297,"./dv.js":297,"./el":296,"./el.js":296,"./en-au":295,"./en-au.js":295,"./en-ca":294,"./en-ca.js":294,"./en-gb":293,"./en-gb.js":293,"./en-ie":292,"./en-ie.js":292,"./en-il":291,"./en-il.js":291,"./en-nz":290,"./en-nz.js":290,"./eo":289,"./eo.js":289,"./es":288,"./es-do":287,"./es-do.js":287,"./es-us":286,"./es-us.js":286,"./es.js":288,"./et":285,"./et.js":285,"./eu":284,"./eu.js":284,"./fa":283,"./fa.js":283,"./fi":282,"./fi.js":282,"./fo":281,"./fo.js":281,"./fr":280,"./fr-ca":279,"./fr-ca.js":279,"./fr-ch":278,"./fr-ch.js":278,"./fr.js":280,"./fy":277,"./fy.js":277,"./gd":276,"./gd.js":276,"./gl":275,"./gl.js":275,"./gom-latn":274,"./gom-latn.js":274,"./gu":273,"./gu.js":273,"./he":272,"./he.js":272,"./hi":271,"./hi.js":271,"./hr":270,"./hr.js":270,"./hu":269,"./hu.js":269,"./hy-am":268,"./hy-am.js":268,"./id":267,"./id.js":267,"./is":266,"./is.js":266,"./it":265,"./it.js":265,"./ja":264,"./ja.js":264,"./jv":263,"./jv.js":263,"./ka":262,"./ka.js":262,"./kk":261,"./kk.js":261,"./km":260,"./km.js":260,"./kn":259,"./kn.js":259,"./ko":258,"./ko.js":258,"./ky":257,"./ky.js":257,"./lb":256,"./lb.js":256,"./lo":255,"./lo.js":255,"./lt":254,"./lt.js":254,"./lv":253,"./lv.js":253,"./me":252,"./me.js":252,"./mi":251,"./mi.js":251,"./mk":250,"./mk.js":250,"./ml":249,"./ml.js":249,"./mn":248,"./mn.js":248,"./mr":247,"./mr.js":247,"./ms":246,"./ms-my":245,"./ms-my.js":245,"./ms.js":246,"./mt":244,"./mt.js":244,"./my":243,"./my.js":243,"./nb":242,"./nb.js":242,"./ne":241,"./ne.js":241,"./nl":240,"./nl-be":239,"./nl-be.js":239,"./nl.js":240,"./nn":238,"./nn.js":238,"./pa-in":237,"./pa-in.js":237,"./pl":236,"./pl.js":236,"./pt":235,"./pt-br":234,"./pt-br.js":234,"./pt.js":235,"./ro":233,"./ro.js":233,"./ru":232,"./ru.js":232,"./sd":231,"./sd.js":231,"./se":230,"./se.js":230,"./si":229,"./si.js":229,"./sk":228,"./sk.js":228,"./sl":227,"./sl.js":227,"./sq":226,"./sq.js":226,"./sr":225,"./sr-cyrl":224,"./sr-cyrl.js":224,"./sr.js":225,"./ss":223,"./ss.js":223,"./sv":222,"./sv.js":222,"./sw":221,"./sw.js":221,"./ta":220,"./ta.js":220,"./te":219,"./te.js":219,"./tet":218,"./tet.js":218,"./tg":217,"./tg.js":217,"./th":216,"./th.js":216,"./tl-ph":215,"./tl-ph.js":215,"./tlh":214,"./tlh.js":214,"./tr":213,"./tr.js":213,"./tzl":212,"./tzl.js":212,"./tzm":211,"./tzm-latn":210,"./tzm-latn.js":210,"./tzm.js":211,"./ug-cn":209,"./ug-cn.js":209,"./uk":208,"./uk.js":208,"./ur":207,"./ur.js":207,"./uz":206,"./uz-latn":205,"./uz-latn.js":205,"./uz.js":206,"./vi":204,"./vi.js":204,"./x-pseudo":203,"./x-pseudo.js":203,"./yo":202,"./yo.js":202,"./zh-cn":201,"./zh-cn.js":201,"./zh-hk":200,"./zh-hk.js":200,"./zh-tw":199,"./zh-tw.js":199};function o(e){var t=s(e);return n(t)}function s(e){var t=r[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=596},730:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),l=n(10);n(345),n(723),n(722);var c=n(94),u=n(371),p=n(365),d=function(e){function t(t){var n=e.call(this,t)||this;return n.props={},n.state={},n.props={form:u.FormFactory.createForm(t.form)},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=(e.initialState,a(e,["initialState"]),this.props.form);return i.createElement(c.Layout,{style:{height:"100vh"}},i.createElement(c.Row,null,i.createElement("br",null)),i.createElement(c.Row,{justify:"space-around"},i.createElement(c.Col,{span:t.formLayoutOptions.wrapperSpan,offset:t.formLayoutOptions.wrapperOffset},i.createElement(p.default,s({},t)))))},t}(i.Component);t.render=function(e,t){l.render(new d(e).render(),document.querySelector(t))}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueOrDefault=function(e,t){return void 0!==e&&null!==e?e:t}}});
//# sourceMappingURL=main.js.map