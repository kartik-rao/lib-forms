window.Forms=function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={2:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonpForms=window.webpackJsonpForms||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;return s.push([729,0]),n()}({364:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(94),l=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.field,n=e.onChange,r=e.decorator,a=e.itemLayout,l=t.type;t.inputType,t.placeholder,t.label;return i.createElement(o.Form.Item,s({label:t.label},a),("input"==l||"hidden"==l)&&r(i.createElement(o.Input,{onChange:n,type:t.inputType,placeholder:t.placeholder})),"checkbox"==l&&r(i.createElement(o.Checkbox,{onChange:n})),"number"==l&&r(i.createElement(o.InputNumber,{onChange:n})),"select"==l&&r(i.createElement(o.Select,{onChange:n},t.children.map(function(e,t){return i.createElement(o.Select.Option,{key:t},e.label)}))),"radiogroup"==l&&r(i.createElement(o.Radio.Group,{onChange:n},t.children.map(function(e,t){return i.createElement(o.Radio,{key:t},e.label)}))),"checkboxgroup"==l&&r(i.createElement(o.Checkbox.Group,{onChange:n,options:t.children})),"textarea"==l&&r(i.createElement(o.Input.TextArea,{onChange:n})),"datepicker"==l&&r(i.createElement(o.DatePicker,{onChange:n})),"monthpicker"==l&&r(i.createElement(o.DatePicker.MonthPicker,{onChange:n})),"rangepicker"==l&&r(i.createElement(o.DatePicker.RangePicker,{onChange:n})),"weekpicker"==l&&r(i.createElement(o.DatePicker.WeekPicker,{onChange:n})))},t}(i.Component);t.FieldComponent=l},365:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(94),l=n(364);n(345);var c=function(e){function t(t){var n=e.call(this,t)||this;n.evaluators={},n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})};var r={confirmDirty:!1,currentPage:0,numPages:t.content.pages.length},a=n;return t.content.allFields.forEach(function(e){a.evaluators[""+e.id]=e.condition,r[""+e.id]={result:e.condition.value(n.props.form)}}),n.state=r,n}return a(t,e),t.prototype.handleSubmit=function(e){e.preventDefault();var t=this;this.props.form.validateFields(function(e,n){if(e){var r=t.props.content.fieldLocation[Object.keys(e)[0]];setTimeout(function(){t.setState({currentPage:r.page})})}else{var a=Object.assign({payload:n},{props:t.state.innerProps});console.log("Received values of form: ",a)}})},t.prototype.onChange=function(e){var t=this,n=this.props.form;n.getFieldValue,n.getFieldsValue,n.getFieldError,n.isFieldTouched,n.isFieldValidating;setTimeout(function(){(t.props.content.dependencyMap[e]||[]).forEach(function(e){var n=Object.assign({},t.state);n[e].result=t.evaluators[e].value(t.props.form),t.setState(n)})},0)},t.prototype.renderPage=function(e,t){var n=this;e.sections.length;return i.createElement("div",{className:"page",key:t},e.sections.map(function(e,t){return n.renderSection(e,t)}))},t.prototype.renderSection=function(e,t){e.fields.length;var n=this;return i.createElement(o.Card,{key:t,title:e.name},e.fields.map(function(e,t){return n.renderField(e,t)}))},t.prototype.renderField=function(e,t){var n=this.props.form,r=n.getFieldDecorator,a=(n.getFieldError,r(e.id,e.fieldOptions)),s=this.onChange.bind(this,e.id),o=this.handleConfirmBlur.bind(this),c=this.state[e.id].result;e.fieldOptions.hidden=!c;var u=this.props.formItemLayout;return c?i.createElement(l.FieldComponent,{field:e,onBlur:o,onChange:s,decorator:a,key:t,itemLayout:u}):""},t.prototype.next=function(){var e=this.state.currentPage+1;this.setState({currentPage:e})},t.prototype.prev=function(){var e=this.state.currentPage-1;this.setState({currentPage:e})},t.prototype.render=function(){var e=this,t=this.props.form;t.getFieldDecorator,t.getFieldError,t.getFieldsValue,t.setFieldsValue,this.props.content.pages.length,this.renderField;return i.createElement("div",null,i.createElement(o.Form,{onSubmit:this.handleSubmit.bind(this),layout:this.props.layout},this.props.content.pages.map(function(t,n){var r=e.state,a=r.numPages,l=r.currentPage;return i.createElement("div",{className:"page-wrapper",key:n,style:{visibility:l==n?"visible":"hidden",display:l==n?"block":"none"}},i.createElement("div",{className:"page-content"},i.createElement(o.Card,{title:t.title},e.renderPage(t,n))),i.createElement("div",{className:"page-action"},i.createElement("div",null,i.createElement(o.Form.Item,s({},e.props.formItemLayout),i.createElement(o.Button,{type:"primary",htmlType:"submit",className:"action-button"},"Submit"),l<a-1&&i.createElement(o.Button,{type:"primary",className:"action-button",onClick:function(){return e.next()}},"Next"),l>0&&a>1&&i.createElement(o.Button,{type:"primary",className:"action-button",onClick:function(){return e.prev()}},"Prev")))))})))},t}(i.Component);t.default=o.Form.create()(c)},366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(95);!function(e){e.string="string",e.number="number",e.boolean="boolean",e.method="method",e.regexp="regexp",e.integer="integer",e.float="float",e.array="array",e.object="object",e.enum="enum",e.date="date",e.url="url",e.hex="hex",e.email="email"}(r=t.FieldType||(t.FieldType={}));var s=function(){return function(e){this.enum=e.enum,this.len=e.len,this.min=e.min,this.max=e.max,this.message=e.message,this.pattern=e.pattern,this.required=a.valueOrDefault(e.required,!1),this.transform=e.transform,this.type=a.valueOrDefault(e.type,r.string),this.validator=e.validator,this.whitespace=e.whitespace}}();t.FieldValidationRule=s;var i=function(){function e(){this.rules=[]}return e.prototype.addRule=function(e){this.rules.push(new s(e))},e.prototype.addRules=function(e){void 0===e&&(e=[]);var t=this;return e.forEach(function(e){t.addRule(e)}),this},e}();t.FieldValidation=i},367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(366),a=n(95),s=function(){return function(e){this.id=null,this.getValueFromEvent=null,this.initialValue=null,this.normalize=null,this.id=e.id,this.getValueFromEvent=e.getValueFromEvent,this.initialValue=e.initialValue,this.normalize=e.normalize,this.rules=(new r.FieldValidation).addRules(e.rules).rules,this.trigger=a.valueOrDefault(e.trigger,"onChange"),this.validateFirst=a.valueOrDefault(e.validateFirst,!1),this.validateTrigger=a.valueOrDefault(e.validateTrigger,["onChange","onBlur"]),this.valuePropName=a.valueOrDefault(e.valuePropName,"value"),this.hidden=e.hidden||!1}}();t.FieldOptions=s},368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n,r){this.operator="or",this.field=e,this.condition=t,this.value=n,this.operator=r}}();t.Predicate=r;var a=function(){function e(e,t){void 0===t&&(t=[]),this.predicates=[],this.ancestors=[],this.fieldId=e,this.predicates=t;var n=this;this.predicates.forEach(function(e,t){n.ancestors.push(e.field)})}return e.prototype.reduce=function(e,t,n){return"and"==n?e&&t:e||t},e.prototype.value=function(e){var t,n=this,r=this.fieldId;return!this.predicates||0==this.predicates.length||(this.predicates.forEach(function(a,s){var i=e.getFieldValue(a.field),o=null;switch(a.condition){case"eq":o=i==a.value;break;case"neq":o=i!=a.value;break;case"gt":o=i>a.value;break;case"lt":o=i<a.value;break;case"gteq":o=i>=a.value;break;case"lteq":o=i<=a.value;break;case"hasval":o=void 0!==i&&null!=i&&""!==i;break;case"nothasval":o=void 0===i||null==i||""==i;break;default:o=!1}t=0==s?o:n.reduce(t,o,a.operator),console.log("Condition "+s+" on ["+r+"] is "+t+", rule ["+a.field+" "+a.condition+" "+a.value+"] (value is ["+i+"])")}),t)},e}();t.Condition=a},369:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(95),s=n(368),i=n(367),o=function(){function e(){}return e.createField=function(e){var t={};return t.id=e.id,t.name=e.name,t.type=e.type,t.inputType=e.inputType,t.icon=e.icon,t.width=e.width,t.children=e.children,t.storage=e.storage,t.showLabel=a.valueOrDefault(e.showLabel,!0),t.showLegend=a.valueOrDefault(e.showLegend,!0),t.fieldOptions=new i.FieldOptions(Object.assign({id:e.id},r({},e.fieldOptions))),t.condition=new s.Condition(e.id,e.condition),t.label=e.label,t.helpText=e.helpText,t.helpPlacement=e.helpPlacement,t.placeholder=e.placeholder,t.queryParam=e.queryParam,t.saveable=e.saveable,t},e}();t.FieldFactory=o},370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(369),a=function(){function e(){}return e.createForm=function(e){var t={};t.id=e.id,t.exid=e.exid,t.desc=e.desc,t.name=e.name;var n={};e.tenant&&(n.context=e.tenant.content,n.stack=e.tenant.content,n.eid=e.tenant.content,n.mid=e.tenant.content),t.tenant=e.tenant;var a={};e.status&&(a.timezone=e.status.timezone,a.paused=e.status.paused,a.active=e.status.active,a.created=e.status.created,a.edited=e.status.edited,a.starts=e.status.starts,a.ends=e.status.ends),t.status=a;var s={};s.title=e.content.title,s.subtitle=e.content.subtitle,s.labels=e.content.labels,s.offset=e.content.offset,s.width=e.content.width,s.sidebar=e.content.sidebar,s.scripts=e.content.scripts,s.styles=e.content.styles,s.datasets=e.content.datasets,s.paginate=e.content.paginate,s.validationDisablesPaging=e.content.validationDisablesPaging,s.css=e.content.css,s.header=e.content.header,s.footer=e.content.footer,s.trackingPixels=e.content.trackingPixels,s.pages=[],s.allFields=[],s.fieldLocation={},s.dependencyMap={};var i={};return e.content.pages.forEach(function(e,t){var n={name:e.name,icon:e.icon,sections:[],type:e.type,title:e.title,subtitle:e.subtitle,wizard:e.wizard};e.sections.forEach(function(e,a){var o={id:e.id,name:e.name,fields:[]};e.fields.forEach(function(e,n){var l=r.FieldFactory.createField(e);l.location={page:t,section:a,field:n},i[l.id]=l.condition.ancestors,o.fields.push(l),s.allFields.push(l),s.fieldLocation[l.id]=l.location}),n.sections.push(o)}),s.pages.push(n)}),Object.keys(i).forEach(function(e){i[e].forEach(function(t){s.dependencyMap[t]=s.dependencyMap[t]?s.dependencyMap[t]:[],s.dependencyMap[t].push(e)})}),t.content=s,t},e}();t.FormFactory=a},595:function(e,t,n){var r={"./af":321,"./af.js":321,"./ar":320,"./ar-dz":319,"./ar-dz.js":319,"./ar-kw":318,"./ar-kw.js":318,"./ar-ly":317,"./ar-ly.js":317,"./ar-ma":316,"./ar-ma.js":316,"./ar-sa":315,"./ar-sa.js":315,"./ar-tn":314,"./ar-tn.js":314,"./ar.js":320,"./az":313,"./az.js":313,"./be":312,"./be.js":312,"./bg":311,"./bg.js":311,"./bm":310,"./bm.js":310,"./bn":309,"./bn.js":309,"./bo":308,"./bo.js":308,"./br":307,"./br.js":307,"./bs":306,"./bs.js":306,"./ca":305,"./ca.js":305,"./cs":304,"./cs.js":304,"./cv":303,"./cv.js":303,"./cy":302,"./cy.js":302,"./da":301,"./da.js":301,"./de":300,"./de-at":299,"./de-at.js":299,"./de-ch":298,"./de-ch.js":298,"./de.js":300,"./dv":297,"./dv.js":297,"./el":296,"./el.js":296,"./en-au":295,"./en-au.js":295,"./en-ca":294,"./en-ca.js":294,"./en-gb":293,"./en-gb.js":293,"./en-ie":292,"./en-ie.js":292,"./en-il":291,"./en-il.js":291,"./en-nz":290,"./en-nz.js":290,"./eo":289,"./eo.js":289,"./es":288,"./es-do":287,"./es-do.js":287,"./es-us":286,"./es-us.js":286,"./es.js":288,"./et":285,"./et.js":285,"./eu":284,"./eu.js":284,"./fa":283,"./fa.js":283,"./fi":282,"./fi.js":282,"./fo":281,"./fo.js":281,"./fr":280,"./fr-ca":279,"./fr-ca.js":279,"./fr-ch":278,"./fr-ch.js":278,"./fr.js":280,"./fy":277,"./fy.js":277,"./gd":276,"./gd.js":276,"./gl":275,"./gl.js":275,"./gom-latn":274,"./gom-latn.js":274,"./gu":273,"./gu.js":273,"./he":272,"./he.js":272,"./hi":271,"./hi.js":271,"./hr":270,"./hr.js":270,"./hu":269,"./hu.js":269,"./hy-am":268,"./hy-am.js":268,"./id":267,"./id.js":267,"./is":266,"./is.js":266,"./it":265,"./it.js":265,"./ja":264,"./ja.js":264,"./jv":263,"./jv.js":263,"./ka":262,"./ka.js":262,"./kk":261,"./kk.js":261,"./km":260,"./km.js":260,"./kn":259,"./kn.js":259,"./ko":258,"./ko.js":258,"./ky":257,"./ky.js":257,"./lb":256,"./lb.js":256,"./lo":255,"./lo.js":255,"./lt":254,"./lt.js":254,"./lv":253,"./lv.js":253,"./me":252,"./me.js":252,"./mi":251,"./mi.js":251,"./mk":250,"./mk.js":250,"./ml":249,"./ml.js":249,"./mn":248,"./mn.js":248,"./mr":247,"./mr.js":247,"./ms":246,"./ms-my":245,"./ms-my.js":245,"./ms.js":246,"./mt":244,"./mt.js":244,"./my":243,"./my.js":243,"./nb":242,"./nb.js":242,"./ne":241,"./ne.js":241,"./nl":240,"./nl-be":239,"./nl-be.js":239,"./nl.js":240,"./nn":238,"./nn.js":238,"./pa-in":237,"./pa-in.js":237,"./pl":236,"./pl.js":236,"./pt":235,"./pt-br":234,"./pt-br.js":234,"./pt.js":235,"./ro":233,"./ro.js":233,"./ru":232,"./ru.js":232,"./sd":231,"./sd.js":231,"./se":230,"./se.js":230,"./si":229,"./si.js":229,"./sk":228,"./sk.js":228,"./sl":227,"./sl.js":227,"./sq":226,"./sq.js":226,"./sr":225,"./sr-cyrl":224,"./sr-cyrl.js":224,"./sr.js":225,"./ss":223,"./ss.js":223,"./sv":222,"./sv.js":222,"./sw":221,"./sw.js":221,"./ta":220,"./ta.js":220,"./te":219,"./te.js":219,"./tet":218,"./tet.js":218,"./tg":217,"./tg.js":217,"./th":216,"./th.js":216,"./tl-ph":215,"./tl-ph.js":215,"./tlh":214,"./tlh.js":214,"./tr":213,"./tr.js":213,"./tzl":212,"./tzl.js":212,"./tzm":211,"./tzm-latn":210,"./tzm-latn.js":210,"./tzm.js":211,"./ug-cn":209,"./ug-cn.js":209,"./uk":208,"./uk.js":208,"./ur":207,"./ur.js":207,"./uz":206,"./uz-latn":205,"./uz-latn.js":205,"./uz.js":206,"./vi":204,"./vi.js":204,"./x-pseudo":203,"./x-pseudo.js":203,"./yo":202,"./yo.js":202,"./zh-cn":201,"./zh-cn.js":201,"./zh-hk":200,"./zh-hk.js":200,"./zh-tw":199,"./zh-tw.js":199};function a(e){var t=s(e);return n(t)}function s(e){var t=r[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=595},729:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),l=n(10);n(345),n(722),n(721);var c=n(94),u=n(370),d=n(365),p=function(e){function t(t){var n=e.call(this,t)||this;return n.props={},n.state={},n.props={form:u.FormFactory.createForm(t.form)},n}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.initialState,i(e,["initialState"]),this.props.form);return o.createElement(c.Layout,{style:{height:"100vh"}},o.createElement(c.Row,null,o.createElement("br",null)),o.createElement(c.Row,{justify:"space-around"},o.createElement(c.Col,{span:16,offset:4},o.createElement(d.default,s({},t)))))},t}(o.Component);t.render=function(e,t){l.render(new p(e).render(),document.querySelector(t))}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueOrDefault=function(e,t){return void 0!==e&&null!==e?e:t}}});
//# sourceMappingURL=main.js.map