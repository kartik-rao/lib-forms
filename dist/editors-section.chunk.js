(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{620:function(e,t,a){"use strict";a.r(t);var n=a(28),l=(a(124),a(392)),s=(a(384),a(63)),o=(a(200),a(103)),r=(a(202),a(10)),c=a(0),i=a(27),m=a(34),u=(a(69),a(32)),p=(a(99),a(371)),d=(a(370),a(375)),b=(a(373),a(357));a(460);const g=["rgba(0,160,233,0.6)","rgba(0,120,200,0.8)"],f=e=>Object(r.b)(()=>c.createElement(u.a,{title:"Preview",size:"small",bordered:!1},c.createElement(s.a,{className:"fl-layout-demo-row",gutter:e.gutter},Object.keys(e.colspans).map((t,a)=>c.createElement(n.a,{key:t,span:e.colspans[t]},c.createElement("div",{style:{minHeight:"50px",padding:"5px 10px",background:a%2==0?g[0]:g[1]}},c.createElement("strong",{style:{color:"white"}},a+1," - ",(100*e.colspans[t]/24).toFixed(2),"%"))))))),E={labelCol:{xs:{span:12,offset:4},sm:{span:8,offset:4}},wrapperCol:{xs:{span:16},sm:{span:12}}},S={wrapperCol:{xs:{span:3,offset:21},sm:{span:3,offset:21}}};var y=p.a.create()(e=>{const t=c.useContext(i.b);if(!t)throw new Error("Store is null");let a={};t.selectedSection.columns.map((e,t)=>{a[`col${t}`]=e.span});const n=Object(r.a)(()=>({gutter:t.selectedSection.gutter,columnSpanMap:a,updateSpan:function(e,t){this.columnSpanMap[e]=t},updateGutter:function(e){this.gutter=e},handleSubmit:function(e){e.preventDefault(),e.stopPropagation();let{selectedSection:a}=t,n=this;a.columns.map((e,t)=>{let a=n.columnSpanMap[`col${t}`];e.span!=a&&(console.log(`Setting column ${t} span to ${a}`),e.span=a)}),a.gutter!=this.gutter&&(a.gutter=this.gutter),d.a.info({message:`Section - ${a.name}`,description:"Saved section layout successfully"})}}));return Object(r.b)(()=>c.createElement(u.a,{size:"small",title:"Section Layout"},c.createElement("p",null,"Assign 24 units (aliquots) across columns in a section, use gutter to space columns"),c.createElement(p.a,Object.assign({},E,{onSubmit:e=>n.handleSubmit(e),layout:"horizontal"}),c.createElement(p.a.Item,{label:"Gutter"},e.form.getFieldDecorator("gutter",{initialValue:n.gutter||0,rules:[{type:"number"}]})(c.createElement(b.default,{step:8,max:48,onChange:e=>n.updateGutter(parseInt(e.toString()))}))),t.selectedSection.columns.map((t,a)=>c.createElement(p.a.Item,{label:`Column ${a+1} span`,key:a},e.form.getFieldDecorator(`columnSpans[col${a}]`,{initialValue:t.span||0,rules:[{type:"number"}]})(c.createElement(b.default,{step:1,max:24,onChange:e=>n.updateSpan(`col${a}`,e)})))),c.createElement(f,{gutter:n.gutter,colspans:n.columnSpanMap}),c.createElement(p.a.Item,Object.assign({},S),c.createElement(m.a,{type:"primary",htmlType:"submit",style:{marginTop:"15px"},onClick:n.handleSubmit},"Apply")))))}),h=a(351);a(372);const w={labelCol:{xs:{span:12,offset:4},sm:{span:8,offset:4}},wrapperCol:{xs:{span:16},sm:{span:12}}},x={wrapperCol:{xs:{span:3,offset:21},sm:{span:3,offset:21}}};var C=p.a.create()(e=>{const t=c.useContext(i.b);if(!t)throw new Error("Store is null");const a=Object(r.a)(()=>({gutter:null,handleSubmit:a=>{a.preventDefault(),a.stopPropagation();let{selectedSection:n}=t;e.form.validateFieldsAndScroll((e,t)=>{e||(d.a.info({message:`Section - ${n.name}`,description:"Section properties applied successfully"}),Object.keys(t).forEach(e=>{n[e]=t[e]}))})}}));return Object(r.b)(()=>t.selectedSection?c.createElement(u.a,{size:"small",bordered:!1},c.createElement(p.a,Object.assign({},w,{onSubmit:e=>a.handleSubmit(e),layout:"horizontal"}),c.createElement(p.a.Item,{required:!0,label:"Name"},e.form.getFieldDecorator("name",{initialValue:t.selectedSection.name,rules:[{type:"string"}]})(c.createElement(h.default,null))),c.createElement(p.a.Item,{required:!0,label:"Title"},e.form.getFieldDecorator("title",{initialValue:t.selectedSection.title,rules:[{type:"string"}]})(c.createElement(h.default,null))),c.createElement(p.a.Item,Object.assign({},x),c.createElement(m.a,{type:"primary",htmlType:"submit",style:{marginTop:"15px"},onClick:a.handleSubmit},"Apply")))):c.createElement(c.Fragment,null))});a.d(t,"SectionEditorView",function(){return j});const j=e=>{const t=c.useContext(i.b);if(!t)throw new Error("Store is null");return Object(r.b)(()=>t.showSectionEditor&&t.selectedSection&&c.createElement(l.a,{title:`Section "${t.selectedSection.name}" `,onClose:()=>t.setEditable(null),visible:1==t.showSectionEditor,width:700,style:{overflow:"hidden"}},c.createElement(o.a,{size:"small"},c.createElement(o.a.TabPane,{tab:"Settings",key:"1"},c.createElement(s.a,null,c.createElement(n.a,{span:24},c.createElement(C,null)))),t.selectedSection.columns.length>0&&c.createElement(o.a.TabPane,{tab:"Layout",key:"2"},c.createElement(s.a,null,c.createElement(n.a,{span:24},c.createElement(y,null)))))))}}}]);
//# sourceMappingURL=editors-section.chunk.js.map